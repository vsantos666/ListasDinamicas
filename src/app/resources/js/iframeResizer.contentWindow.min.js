/*! iFrame Resizer (iframeSizer.contentWindow.min.js) - v2.3.2 - 2014-04-20
 *  Desc: Include this file in any page being loaded into an iframe
 *        to force the iframe to resize to the content size.
 *  Requires: iframeResizer.min.js on host page.
 *  Copyright: (c) 2014 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */

!function(){"use strict";function a(a,b){"addEventListener"in window?window.addEventListener(a,b,!1):"attachEvent"in window&&window.attachEvent("on"+a,b)}function b(a){return t+"["+v+"] "+a}function c(a){s&&"console"in window&&console.log(b(a))}function d(a){"console"in window&&console.warn(b(a))}function e(b){function e(){c("Initialising iFrame"),B(),E(),D("background",h),D("padding",k),K(),I(),F(),L(),J()}function B(){function a(a){return"true"===a?!0:!1}var c=b.data.substr(u).split(":");v=c[0],i=void 0!==c[1]?parseInt(c[1],g):i,l=void 0!==c[2]?a(c[2]):l,s=void 0!==c[3]?a(c[3]):s,q=void 0!==c[4]?parseInt(c[4],g):q,w=void 0!==c[5]?a(c[5]):w,f=void 0!==c[6]?a(c[6]):f,j=c[7],p=void 0!==c[8]?c[8]:p,h=c[9],k=c[10]}function C(a,b){return-1!==b.indexOf("-")&&(d("Negative CSS value ignored for "+a),b=""),b}function D(a,b){void 0!==b&&""!==b&&"null"!==b&&(document.body.style[a]=b,c("Body "+a+' set to "'+b+'"'))}function E(){void 0===j&&(j=i+"px"),C("margin",j),D("margin",j)}function F(){document.documentElement.style.height="auto",document.body.style.height="auto",c('HTML & body height set to "auto"')}function G(){a("resize",function(){W("resize","Window resized")})}function H(){a("click",function(){W("click","Window clicked")})}function I(){o!==p&&(p in Z||(d(p+" is not a valid option for heightCalcMode."),p="bodyScroll"),c('Height calculation method set to "'+p+'"'))}function J(){!0===f?(G(),H(),N()):c("Auto Resize disabled")}function K(){var a=document.createElement("div");a.style.clear="both",a.style.display="block",document.body.appendChild(a)}function L(){w&&(c("Enable public methods"),window.parentIFrame={close:function(){W("close","window.parentIFrame.close()",0,0)},getId:function(){return v},sendMessage:function(a,b){X(0,0,"message",a,b)},setHeightCalculationMethod:function(a){p=a,I()},setTargetOrigin:function(a){c("Set targetOrigin: "+a),x=a},size:function(a,b){var c=""+(a?a:"")+(b?","+b:"");W("size","window.parentIFrame.size("+c+")",a,b)}})}function M(){0!==q&&(c("setInterval: "+q+"ms"),setInterval(function(){W("interval","setInterval: "+q)},Math.abs(q)))}function N(){function a(){var a=document.querySelector("body"),d={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},e=new b(function(a){W("mutationObserver","mutationObserver: "+a[0].target+" "+a[0].type)});c("Enable MutationObserver"),e.observe(a,d)}var b=window.MutationObserver||window.WebKitMutationObserver;b?0>q?M():a():(d("MutationObserver not supported in this browser!"),M())}function O(){function a(a){function b(a){var b=/^\d+(px)?$/i;if(b.test(a))return parseInt(a,g);var d=c.style.left,e=c.runtimeStyle.left;return c.runtimeStyle.left=c.currentStyle.left,c.style.left=a||0,a=c.style.pixelLeft,c.style.left=d,c.runtimeStyle.left=e,a}var c=document.body,d=0;return d=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(c,null)[a]:b(c.currentStyle[a]),parseInt(d,g)}return document.body.offsetHeight+a("marginTop")+a("marginBottom")}function P(){return document.body.scrollHeight}function Q(){return document.documentElement.offsetHeight}function R(){return document.documentElement.scrollHeight}function S(){return[O(),P(),Q(),R()]}function T(){return Math.max.apply(null,S())}function U(){return Math.min.apply(null,S())}function V(){return Math.max(document.documentElement.scrollWidth,document.body.scrollWidth)}function W(a,b,d,e){function f(){c("Trigger event ("+b+") cancelled"),setTimeout(function(){r=a},z)}function g(){c("Trigger event: "+b),r=a}function h(){m=i,A=j,g(),X(m,A,a)}var i=void 0!==d?d:Z[p](),j=void 0!==e?e:V();"interval"===r&&"resize"===a?f():"size"===r&&a in{resize:1,click:1}?f():(m!==i||l&&A!==j)&&h()}function X(a,b,d,e,f){function g(){void 0===f?f=x:c("Message targetOrigin: "+f)}function h(){var g=v+":"+a+":"+b+":"+d+(void 0!==e?":"+e:"");c("Sending message to host page ("+g+")"),y.postMessage(t+g,f)}g(),h()}function Y(){return t===""+b.data.substr(0,u)}var Z={offset:O,bodyOffset:O,bodyScroll:P,documentElementOffset:Q,scroll:R,documentElementScroll:R,max:T,min:U};Y()&&n&&(e(),W("init","Init message from host page"),n=!1)}var f=!0,g=10,h="",i=0,j="",k="",l=!1,m=1,n=!0,o="offset",p=o,q=32,r="",s=!1,t="[iFrameSizer]",u=t.length,v="",w=!1,x="*",y=window.parent,z=50,A=1;a("message",e)}();
//# sourceMappingURL=../src/iframeResizer.contentWindow.map